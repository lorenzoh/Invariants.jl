{"attributes":{"kind":"function","backlinks":[{"tag":"sourcefile","title":"Invariants/src/invariants/wrap.jl","docid":"sourcefiles/Invariants/src/invariants/wrap.jl"},{"tag":"sourcefile","title":"Invariants/src/check.jl","docid":"sourcefiles/Invariants/src/check.jl"},{"tag":"sourcefile","title":"Invariants/src/combinators.jl","docid":"sourcefiles/Invariants/src/combinators.jl"},{"tag":"document","title":"Tutorial","docid":"documents/docs/guide.md"},{"tag":"sourcefile","title":"Invariants/src/invariant.jl","docid":"sourcefiles/Invariants/src/invariant.jl"},{"tag":"sourcefile","title":"Invariants/src/invariants/hasmethod.jl","docid":"sourcefiles/Invariants/src/invariants/hasmethod.jl"},{"tag":"sourcefile","title":"Invariants/src/Invariants.jl","docid":"sourcefiles/Invariants/src/Invariants.jl"},{"tag":"sourcefile","title":"Invariants/src/display.jl","docid":"sourcefiles/Invariants/src/display.jl"},{"tag":"document","title":"Invariants","docid":"documents/README.md"}],"methods":[{"line":24,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariants/wrap.jl","method_id":"Invariants.invariant_1","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariants/wrap.jl","signature":"invariant(inv::Invariants.Invariant; title, inputfn, description, validate)"},{"line":9,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariants/wrap.jl","method_id":"Invariants.invariant_2","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariants/wrap.jl","signature":"invariant(inv::Invariants.AbstractInvariant; title, inputfn, description, validate)"},{"line":150,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariant.jl","method_id":"Invariants.invariant_3","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariant.jl","signature":"invariant(title, invariants::AbstractVector{<:Invariants.AbstractInvariant}; kwargs...)"},{"line":153,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariant.jl","method_id":"Invariants.invariant_4","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariant.jl","signature":"invariant(title, invariants::AbstractVector{<:Invariants.AbstractInvariant}, ::typeof(all; kwargs...)"},{"line":155,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariant.jl","method_id":"Invariants.invariant_5","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariant.jl","signature":"invariant(title, invariants::AbstractVector{<:Invariants.AbstractInvariant}, ::typeof(any; kwargs...)"},{"line":146,"file":"/home/runner/.julia/packages/Invariants/NDc7K/src/invariant.jl","method_id":"Invariants.invariant_6","symbol_id":"Invariants.invariant","filedoc":"sourcefiles/Invariants/src/invariant.jl","signature":"invariant(fn, title::String; kwargs...)"}],"name":"invariant","title":"invariant","symbol_id":"Invariants.invariant","public":true,"module_id":"Invariants"},"tag":"documentation","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["invariant(fn, title; description, validate, inputfn)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Create an invariant with name ",{"attributes":{},"tag":"code","children":["title"],"type":"node"}," that checks an input against ",{"attributes":{},"tag":"code","children":["fn"],"type":"node"}," which returns either ",{"attributes":{},"tag":"code","children":["nothing"],"type":"node"}," when the invariant is satisfied, or an error message when the invariant is violated."],"type":"node"},{"attributes":{"lang":""},"tag":"codeblock","children":["invariant(inv; title, description, validate, inputfn)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Wrap an invariant ",{"attributes":{},"tag":"code","children":["inv"],"type":"node"},", replacing some of its attributes with the given keyword arguments."],"type":"node"},{"attributes":{"lang":""},"tag":"codeblock","children":["invariant(invs, title, combine = :all; description)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Combine multiple invariants ",{"attributes":{},"tag":"code","children":["invs"],"type":"node"}," logically. The type of composition dependsBy default, all invariants must be on the third argument:"],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["all"],"type":"node"}," (default): All invariants must be satisfied (see ",{"attributes":{"reftype":"symbol","document_id":"references/Invariants.AllInvariant"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["AllInvariant"],"type":"node"}],"type":"node"},")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["any"],"type":"node"},": At least one invariant must be satisfied (see ",{"attributes":{"reftype":"symbol","document_id":"references/Invariants.AnyInvariant"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["AnyInvariant"],"type":"node"}],"type":"node"},") satisfied. `"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"h2","children":["Examples"],"type":"node"},{"attributes":{},"tag":"p","children":["Basic usage:"],"type":"node"},{"attributes":{},"tag":"codecell","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"USING","children":[{"attributes":{},"tag":"USING","children":["using"],"type":"node"},{"attributes":{},"tag":"DOT","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"references/Invariants"},"tag":"reference","children":["Invariants"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"DO","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.invariant"},"tag":"reference","children":["invariant"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["Is negative"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"DO","children":["do"],"type":"node"},{"attributes":{},"tag":"ANON_FUNC","children":[{"attributes":{},"tag":"TUPLE","children":[{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["n"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"BLOCK","children":[{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"IF","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"IDENTIFIER","children":["n"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"LESS","children":["<"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["0"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CONDITIONAL","children":["?"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["nothing"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"COLON","children":[":"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{},"tag":"DOT","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants"},"tag":"reference","children":["Invariants"],"type":"node"},{"attributes":{},"tag":"DOT","children":["."],"type":"node"},{"attributes":{},"tag":"QUOTE","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.md"},"tag":"reference","children":["md"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"STRING","children":["`n` is not negative!"],"type":"node"},{"attributes":{},"tag":"DQUOTE","children":["\""],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"END","children":["end"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"Invariant(&quot;Is negative&quot;)\n"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Successful check:"],"type":"node"},{"attributes":{},"tag":"codecell","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.check"},"tag":"reference","children":["check"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["-1"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"<span class=\"sgr32\">✔ Invariant satisfied:</span> Is negative"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Failing check:"],"type":"node"},{"attributes":{},"tag":"codecell","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.check"},"tag":"reference","children":["check"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"<span class=\"sgr31\"><span class=\"sgr1\">⨯ Invariant not satisfied:</span></span><span class=\"sgr1\"> Is negative</span>\n\n<span class=\"sgr36\">n</span> is not negative!\n"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Or just get a Bool:"],"type":"node"},{"attributes":{},"tag":"codecell","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"TUPLE","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.check_bool"},"tag":"reference","children":["check_bool"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["-1"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.check_bool"},"tag":"reference","children":["check_bool"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"(true, false)"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["Throw an error when an invariant is not satisfied:"],"type":"node"},{"attributes":{},"tag":"codecell","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeinput","children":[{"attributes":{"cell":"","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/Invariants.check_throw"},"tag":"reference","children":["check_throw"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"IDENTIFIER","children":["inv"],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"INTEGER","children":["1"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"coderesult","children":[{"attributes":{},"tag":"codeblock","children":[{"mimes":{"text/html":"LoadError(&quot;string&quot;, 1, Invariants.InvariantException(Invariant(&quot;Is negative&quot;)\n, &quot;\\e[36mn\\e[39m is not negative!&quot;))"},"type":"leaf"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}